# =============================================================================
# Cart Service Configuration (Quarkus)
# =============================================================================

# Application
quarkus.application.name=cart-service
quarkus.application.version=1.0.0

# HTTP Server
quarkus.http.port=1008
quarkus.http.host=0.0.0.0
quarkus.http.cors=true

# Development mode
quarkus.live-reload.instrumentation=true
%dev.quarkus.log.console.enable=true
%dev.quarkus.log.console.format=%d{HH:mm:ss} %-5p [%c{2.}] (%t) %s%e%n
%dev.quarkus.log.console.level=DEBUG
%dev.quarkus.log.category."com.aioutlet".level=DEBUG

# Logging
quarkus.log.level=INFO
quarkus.log.console.format=%d{yyyy-MM-dd HH:mm:ss,SSS} %-5p [%c{3.}] (%t) %s%e%n
quarkus.log.console.json=false
%prod.quarkus.log.console.json=true

# File Logging
quarkus.log.file.enable=true
quarkus.log.file.path=logs/cart-service.log
quarkus.log.file.format=%d{yyyy-MM-dd HH:mm:ss,SSS} %-5p [%c{3.}] (%t) %s%e%n
quarkus.log.file.rotation.max-file-size=10M
quarkus.log.file.rotation.max-backup-index=5
quarkus.log.file.rotation.file-suffix=.yyyy-MM-dd
quarkus.log.file.rotation.rotate-on-boot=true
%prod.quarkus.log.file.json=true

# Redis - Not needed, using Dapr state store instead
# quarkus.redis.hosts=redis://:redis_dev_pass_123@localhost:6379
# quarkus.redis.timeout=10s
# quarkus.redis.max-pool-size=20
# quarkus.redis.max-pool-waiting=50

# JWT - Disabled: BFF handles authentication and passes userId via X-User-ID header
# mp.jwt.verify.publickey.location=https://localhost:8080/jwt/publicKey.pem
# mp.jwt.verify.issuer=https://aioutlet.com/issuer
# smallrye.jwt.sign.key.location=/privateKey.pem

# OpenAPI/Swagger
quarkus.smallrye-openapi.path=/swagger
quarkus.swagger-ui.always-include=true
quarkus.swagger-ui.path=/swagger-ui
quarkus.swagger-ui.enable=true

# Health
quarkus.smallrye-health.root-path=/health

# Cart Configuration
cart.default-ttl=720h
cart.guest-ttl=72h
cart.max-items=100
cart.cleanup-interval=1h

# Dapr Configuration
dapr.http-port=3508
dapr.grpc-port=50008
dapr.app-id=cart-service
dapr.state-store=statestore
dapr.pubsub-name=event-bus
dapr.secret-store.name=local-secret-store
